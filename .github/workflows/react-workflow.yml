name: React CI/CD

on:
  push:
    branches:
      - main
    paths:
      - 'FamilyVaultReact/**'

jobs:
  react-job:
    name: React CI/CD
    runs-on: ubuntu-latest
    steps:
    - name: Call React API Gateway
      run: |
        curl -X POST \
          -H "Content-Type: application/json" \
          -H "Authorization: ${{ secrets.AUTHORIZATION_KEY }}" \
          -d '{"action": "trigger"}' \
          ${{ secrets.APIGATEWAY_WEBHOOK_URL }}/react
